<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Invitation Paragraph Generator</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
        }
        textarea {
            width: 100%;
            height: 200px;
            margin-bottom: 10px;
        }
    </style>
</head>
<body>
<h2>Invitation Paragraph Generator</h2>
    <label for="nameInput">Nama Panjang :</label>
    <input type="text" id="nameInput" placeholder="Ibok Gendut">
    <br>
    <label for="linkInput">Nama di Undangan :</label>
<input type="text" id="linkInput" placeholder="kosongkan apabila sama">

<button onclick="generateAndShare()" style="font-size:20px;">BUAT</button>
    <textarea id="output" readonly></textarea>
    <button onclick="copyToClipboard()">Copy to Clipboard</button>
    <button onclick="naura()">NAURA</button>
    <button onclick="bapak()">BAPAK</button>
    <script>
        function generateParagraph() {
            var fullName = document.getElementById("nameInput").value.trim();
            var linkText = document.getElementById("linkInput").value.trim();

            // If "Nama di Undangan" is provided, use it for displayed name, otherwise use the full name
            var displayedName = linkText ? fullName : fullName;

            if (!fullName) {
                alert("Please enter a valid full name.");
                return;
            }

            // Function to create the link based on the link text
            function createLink(linkText) {
                return linkText ? `https://naurafaiq.com/?to=${linkText.replace(/ /g, '+')}` : `https://naurafaiq.com/?to=${fullName.replace(/ /g, '+')}`;
            }

            var link = createLink(linkText);

            var paragraph = `Bismillahirahmanirrahim, Assalamu'alaikum Warahmatullahi Wabarakatuh

Yth.
*${displayedName}*

Dengan memohon rahmat dan ridho Allah SWT., dan tanpa mengurangi rasa hormat, perkenankan kami mengundang Bapak/Ibu/Saudara/i untuk menghadiri acara resepsi syukuran pernikahan anak kami, Naura Hassa Lalitya Cornika dan Khusna Muhammad Fa’iq

Bersama ini kami sampaikan Undangan pada link berikut:
*${link}*

✅ Mohon konfirmasi kehadiran dengan cara menuliskan Nama dan Jumlah Orang pada tautan undangan 
Merupakan suatu kebahagiaan bagi kami apabila Bapak/Ibu/Saudara/i berkenan untuk hadir dan memberikan do’a restu.

Terima kasih atas perhatiannya.
Wassalamualaikum Wr. Wb.

Hormat kami,
Isa Fitra C - Sri Sugihastuti
`;

            
            // Set the generated paragraph to the output textarea
            document.getElementById("output").value = paragraph;

            // Share the generated paragraph
            shareText(paragraph);
        }

        function shareText(text) {
            if (navigator.share) {
                navigator.share({
                    text: text,
                    title: "Invitation Paragraph"
                })
                .then(() => console.log('Successfully shared'))
                .catch((error) => console.log('Error sharing:', error));
            } else {
                alert("Sharing is not supported on this device.");
            }
        }

        function copyToClipboard() {
            var outputTextarea = document.getElementById("output");
            outputTextarea.select();
            document.execCommand("copy");
            alert("Paragraph copied to clipboard!");
        }

        function generateAndShare() {
            generateParagraph();
        }

        function naura() {
            // Redirect to the specified directory
            window.location.href = "https://cornysz.github.io/naurarsvp/naura";
        }
        function bapak() {
            // Redirect to the specified directory
            window.location.href = "https://cornysz.github.io/naurarsvp/bapak";
        }
    </script>
</body>
</html>
